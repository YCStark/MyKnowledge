

<!DOCTYPE html>
<html lang="">
<head prefix="og: http://ogp.me/ns#">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta name="description" content="">
    <title>Hexo</title>

    <!-- Open Graph -->
    <meta name="description" content="#&amp;#x4E00;&amp;#x3001;&amp;#x57FA;&amp;#x7840; &amp;#x4E09;&amp;#x5927;&amp;#x539F;&amp;#x5219;&amp;#xFF1A;&amp;#x5355;&amp;#x4E00;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#xFF08;store&amp;#xFF09;&amp;#x3001;State&amp;#x53EA;&amp;#x8BFB;&amp;#x3001;&amp;#x7EAF;&amp;#x51FD;&amp;#x6570;&amp;#x6">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/2018/05/10/Redux学习/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="#&amp;#x4E00;&amp;#x3001;&amp;#x57FA;&amp;#x7840; &amp;#x4E09;&amp;#x5927;&amp;#x539F;&amp;#x5219;&amp;#xFF1A;&amp;#x5355;&amp;#x4E00;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#xFF08;store&amp;#xFF09;&amp;#x3001;State&amp;#x53EA;&amp;#x8BFB;&amp;#x3001;&amp;#x7EAF;&amp;#x51FD;&amp;#x6570;&amp;#x6">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-04-12T11:44:21.142Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="#&amp;#x4E00;&amp;#x3001;&amp;#x57FA;&amp;#x7840; &amp;#x4E09;&amp;#x5927;&amp;#x539F;&amp;#x5219;&amp;#xFF1A;&amp;#x5355;&amp;#x4E00;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#xFF08;store&amp;#xFF09;&amp;#x3001;State&amp;#x53EA;&amp;#x8BFB;&amp;#x3001;&amp;#x7EAF;&amp;#x51FD;&amp;#x6570;&amp;#x6">

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "email": "mailto:",
  "image": "",
  "name": "John Doe",
  "url": "http://yoursite.com"
}
</script>
    <script>
    var algoliaEnabled = false;
    
</script>

    

    
    
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    
    
    
        <!-- stylesheets list from config.yml -->
        
        <link rel="stylesheet" href="/css/aloha.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/magnific-popup.js/1.1.0/magnific-popup.min.css">
        
    

</head>
<body id="body" style="margin-bottom: 0;" class="pushable">

    <div class="ui top fixed menu">
        <a class="item" id="menu-icon"><i class="sidebar icon"></i></a>
    </div>

    <div id="menu-sidebar" class="ui left vertical sidebar menu">

    <div id="sidebar-top">
        <div class="content">
            <h3>Hexo</h3>
        </div>
    </div>
    <div class="ui container sidebar-card">
    <div class="ui people shape content">
        <div class="active side">
            <div class="ui card">
                <div class="image">
                    <img class="ui medium bordered image" src="/images/avatar.jpg">
                </div>
                <div class="content">
                    <a class="header">John Doe</a>
                    
                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                        
                    </div>

                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

    
    

    

    
    <a href="/index.html" class="item" >
        <i class="home icon"></i>
        HOME
    </a>

    

    
</div>

    <div class="pusher body-content">
        <div id="content" class="ui main container">
            <!--<div class="ui one column grid">-->
                <!--<div class="column">-->
                    <!--<div class="ui main container">-->
                        <div id="post-Redux学习" class="ui main container article-type-post">

    

    <div class="ui divided grid">

        <div class="two column row" id="article-content">

            <div class="thirteen wide computer thirteen wide tablet sixteen wide mobile column">
                

                <div class="article-inner">

                    <div class="article-entry" itemprop="articleBody">
                        
                        <p>#&#x4E00;&#x3001;&#x57FA;&#x7840;</p>
<p><strong>&#x4E09;&#x5927;&#x539F;&#x5219;&#xFF1A;</strong>&#x5355;&#x4E00;&#x6570;&#x636E;&#x6E90;&#xFF08;store&#xFF09;&#x3001;State&#x53EA;&#x8BFB;&#x3001;&#x7EAF;&#x51FD;&#x6570;&#x6267;&#x884C;&#x4FEE;&#x6539;</p>
<p>##&#x4E00;&#x3001;&#x4F7F;&#x7528;Redux&#x7684;&#x573A;&#x666F;&#xFF1A;</p>
<p>&#x200B;       &#x7528;&#x6237;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x590D;&#x6742;&#xFF1B;&#x4E0D;&#x540C;&#x8EAB;&#x4EFD;&#x7528;&#x6237;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#xFF08;&#x7528;&#x6237;&#x3001;&#x7BA1;&#x7406;&#x5458;&#xFF09;&#xFF1B;&#x591A;&#x4E2A;&#x7528;&#x6237;&#x534F;&#x4F5C;&#xFF1B;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x5927;&#x91CF;&#x4EA4;&#x4E92;&#xFF0C;&#x6216;&#x4F7F;&#x7528;&#x4E86;WebSocket&#xFF1B;View&#x8981;&#x4ECE;&#x591A;&#x4E2A;&#x6765;&#x6E90;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x3002;</p>
<p>&#x4ECE;&#x7EC4;&#x4EF6;&#x89D2;&#x5EA6;&#x770B;&#xFF1A;</p>
<p>&#x200B;       &#x67D0;&#x4E2A;&#x7EC4;&#x4EF6;&#x72B6;&#x6001;&#x9700;&#x8981;&#x5171;&#x4EAB;&#xFF1B;&#x72B6;&#x6001;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#x53EF;&#x4EE5;&#x62FF;&#x5230;&#xFF1B;&#x7EC4;&#x4EF6;&#x9700;&#x8981;&#x6539;&#x53D8;&#x5168;&#x5C40;&#x72B6;&#x6001;&#xFF1B;&#x7EC4;&#x4EF6;&#x9700;&#x8981;&#x6539;&#x53D8;&#x53E6;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x7684;&#x72B6;&#x6001;&#x3002;</p>
<p>##&#x4E8C;&#x3001;&#x8BBE;&#x8BA1;&#x601D;&#x60F3;&#xFF1A;</p>
<p>&#x200B;       Web&#x5E94;&#x7528;&#x662F;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x673A;&#xFF0C;&#x89C6;&#x56FE;&#x4E0E;&#x72B6;&#x6001;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;</p>
<p>&#x200B;       &#x6240;&#x6709;&#x72B6;&#x6001;&#xFF0C;&#x4FDD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x91CC;&#x9762;</p>
<p>##&#x4E09;&#x3001;&#x57FA;&#x672C;&#x6982;&#x5FF5;</p>
<p>###3.1 Store</p>
<p>&#x200B;       <strong>&#x4FDD;&#x5B58;&#x6570;&#x636E;</strong>&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x770B;&#x6210;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x3002;</p>
<p>&#x200B;       Import { createStore } from &#x2018;redux&#x2019;;</p>
<p>&#x200B;       Const store = createStore( fn );     //&#x7528;&#x4E8E;&#x751F;&#x6210;Store</p>
<p>&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x505A;&#x53C2;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;Store&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x56DB;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A;getState&#x3001;dispatch&#x3001;subscribe&#x3001;replaceReducer</p>
<p>###3.2 State</p>
<p>&#x200B;       &#x5BF9;&#x8C61;&#x5305;&#x542B;&#x6240;&#x6709;&#x6570;&#x636E;&#x3002;&#x5982;&#x679C;&#x60F3;&#x5F97;&#x5230;&#x67D0;&#x65F6;&#x95F4;&#x70B9;&#x6570;&#x636E;&#xFF0C;<strong>&#x5BF9;**</strong>Store<strong>**&#x751F;&#x6210;&#x5FEB;&#x7167;</strong>&#x3002;&#x8FD9;&#x79CD;&#x65F6;&#x70B9;&#x7684;&#x6570;&#x636E;&#x96C6;&#x5408;&#xFF0C;&#x53EB;State&#x3002;</p>
<p>&#x200B;       Const state = store.getState();       //&#x62FF;&#x5230;&#x5F53;&#x524D;&#x65F6;&#x523B;&#x7684;State</p>
<p>###3.3 Action</p>
<p>State&#x53D8;&#x5316;&#xFF0C;&#x5BFC;&#x81F4;View&#x53D8;&#x5316;&#x3002;&#x4F46;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x63A5;&#x89E6;&#x5230;View&#x53D8;&#x5316;&#xFF0C;&#x6240;&#x4EE5;State&#x53D8;&#x5316;&#x5FC5;&#x987B;&#x662F;View&#x53D8;&#x5316;&#x5BFC;&#x81F4;&#x7684;&#x3002;Action&#x662F;View&#x53D1;&#x51FA;&#x7684;&#x901A;&#x77E5;&#xFF0C;&#x8868;&#x793A;State&#x5C31;&#x8981;&#x53D8;&#x5316;&#x4E86;&#x3002;</p>
<p>&#x200B;       Action&#x5BF9;&#x8C61;&#xFF0C;type&#x5C5E;&#x6027;&#x662F;&#x5FC5;&#x987B;&#x7684;&#xFF0C;&#x8868;&#x793A;Action&#x7684;&#x540D;&#x79F0;&#x3002;<strong>Action**</strong>&#x63CF;&#x8FF0;&#x5F53;&#x524D;&#x53D1;&#x751F;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x6539;&#x53D8;<strong><strong>State</strong></strong>&#x7684;&#x552F;&#x4E00;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x4F7F;&#x7528;<strong><strong>Action</strong></strong>&#xFF0C;&#x5B83;&#x4F1A;&#x8FD0;&#x9001;&#x6570;&#x636E;&#x5230;<strong>**Store</strong></p>
<p>&#x200B;       Const action = { type: &#x2018;ADD_TODO&#x2019;,payload: &#x2018;Learn Redux&#x2019; };</p>
<p>###3.4 Action Creator</p>
<p>&#x200B;       &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x751F;&#x6210;Action&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x53EB;Action Creator</p>
<p>&#x200B;       Function addTodo(text) { </p>
<p>&#x200B;              Return { type: &#x2018;&#x6DFB;&#x52A0;TODO&#x2019;, text }</p>
<p>}</p>
<p>Const action = addTodo(&#x2018;Learn Redux&#x2019;);</p>
<p>###3.5store.dispatch()</p>
<p>&#x200B;       View&#x53D1;&#x51FA;Action&#x7684;&#x552F;&#x4E00;&#x65B9;&#x6CD5;&#x3002;Dispatch&#x63A5;&#x6536;Action&#x5BF9;&#x8C61;&#x505A;&#x53C2;&#x6570;&#xFF0C;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#x3002;</p>
<p>&#x200B;       store.dispatch( { type: &#x2018;ADD_TODO&#x2019;,payload: &#x2018;Learn Redux&#x2019; } );</p>
<p>###3.6 Reducer&#xFF08;&#x4FDD;&#x6301;&#x7EAF;&#x51C0;&#xFF09;</p>
<p>&#x200B;       Store&#x6536;&#x5230;Action&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x7ED9;&#x4E00;&#x4E2A;&#x65B0;&#x7684;State&#xFF0C;&#x8FD9;&#x6837;View&#x624D;&#x4F1A;&#x53D8;&#x5316;&#x3002;<strong>State**</strong>&#x7684;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x79F0;&#x4E3A;<strong><strong>Reducer</strong></strong>&#x3002;**&#x63A5;&#x6536;Action&#x548C;&#x5F53;&#x524D;State&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;&#x65B0;&#x7684;State&#x3002;&#xFF08;&#x9047;&#x5230;&#x672A;&#x77E5;&#x7684;Action&#xFF0C;&#x8FD4;&#x56DE;&#x539F;State&#xFF09;</p>
<p>&#x200B;       Const reducer = function(state, action) {</p>
<p>&#x200B;       Returnnew_state;</p>
<p>}</p>
<p>&#x200B;       &#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;Reducer&#x4E0D;&#x7528;&#x624B;&#x52A8;&#x8C03;&#x7528;&#xFF0C;dispatch&#x65B9;&#x6CD5;&#x4F1A;&#x89E6;&#x53D1;Reducer&#x81EA;&#x52A8;&#x6267;&#x884C;&#x3002;&#x56E0;&#x6B64;&#x751F;&#x6210;Store&#x65F6;&#xFF0C;Reducer&#x4F20;&#x5165;createStore&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x200B;       Const store = createStore(reducer);</p>
<p>&#x200B;       <strong>&#x4F5C;&#x4E3A;&#x6570;&#x7EC4;&#x7684;**</strong>reduce<strong>**&#x65B9;&#x6CD5;&#x505A;&#x53C2;&#x6570;</strong></p>
<p>###3.7 &#x7EAF;&#x51FD;&#x6570;</p>
<p>&#x200B;       Reducer&#x51FD;&#x6570;&#x6700;&#x91CD;&#x8981;&#x7684;&#x7279;&#x5F81;&#xFF1A;<strong>&#x7EAF;&#x51FD;&#x6570;&#x3002;</strong>&#x56E0;&#x6B64;&#xFF0C;&#x6700;&#x597D;State&#x8BBE;&#x6210;&#x53EA;&#x8BFB;&#xFF0C;&#x597D;&#x5904;&#xFF1A;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#xFF0C;&#x4E0E;&#x67D0;&#x4E2A;View&#x5BF9;&#x5E94;&#x7684;State&#x603B;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x53D8;&#x7684;&#x5BF9;&#x8C61;&#x3002;</p>
<p>###3.8store.subscribe()</p>
<p>&#x200B;       &#x8BBE;&#x7F6E;&#x76D1;&#x542C;&#x51FD;&#x6570;&#xFF0C;State&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5C31;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x3002;</p>
<p>&#x200B;       Store.subscribe( listener );</p>
<p>&#x200B;       &#x53EA;&#x8981;&#x628A;View&#x7684;&#x66F4;&#x65B0;&#x51FD;&#x6570;&#xFF08;&#x5373;render&#x6216;setState&#xFF09;&#x653E;&#x5165;listener&#xFF0C;&#x5C31;&#x80FD;&#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x6E32;&#x67D3;&#x3002;&#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x8C03;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#x89E3;&#x9664;&#x76D1;&#x542C;&#x3002;</p>
<p>##&#x56DB;&#x3001;Store&#x5B9E;&#x73B0;</p>
<p>&#x200B;       Import { createStore } from &#x2018;redux&#x2019;;</p>
<p>&#x200B;       Let { subscribe, dispatch, getState } =createStore( reducer );</p>
<p>createStore&#x65B9;&#x6CD5;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x8868;&#x793A;State&#x7684;&#x6700;&#x521D;&#x72B6;&#x6001;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x670D;&#x52A1;&#x5668;&#x7ED9;&#x51FA;&#x7684;&#x3002;</p>
<p>&#x200B;       Let store = createStore( todoApp,window.STATE_FROM_SERVER )&#xFF1B;</p>
<p>&#x8BE5;&#x5E94;&#x7528;&#x7684;&#x72B6;&#x6001;&#x521D;&#x59CB;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x63D0;&#x4F9B;&#x4E86;&#xFF0C;&#x5C31;&#x4F1A;&#x8986;&#x76D6;Reducer&#x9ED8;&#x8BA4;&#x521D;&#x59CB;&#x503C;&#x3002;</p>
<p>##&#x4E94;&#x3001;Reducer&#x62C6;&#x5206;</p>
<p>&#x200B;       &#x4E0D;&#x540C;&#x51FD;&#x6570;&#x8D1F;&#x8D23;State&#x7684;&#x4E0D;&#x540C;&#x5C5E;&#x6027;&#x53D8;&#x5316;&#xFF0C;&#x6700;&#x7EC8;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#x5927;&#x7684;Reducer&#x3002;</p>
<p>&#x200B;       Const chatReducer = ( state =defaultState, action = {}) =&gt; {</p>
<p>&#x200B;              Return { </p>
<p>&#x200B;       charLog:chatLog( state.chatLog, action),</p>
<p>&#x200B;       statusMesage:statusMessage( state.statusMessage, action)</p>
<p>} }</p>
<p>&#x200B;       Redux&#x63D0;&#x4F9B;&#x4E86;<strong>combineReducers</strong>&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x4E8E;Reducer&#x62C6;&#x5206;&#x3002;</p>
<p>&#x200B;       Import { combineReducers } from &#x2018;redux&#x2019;;</p>
<p>&#x200B;       Const chatReducer = combineReducers({</p>
<p>&#x200B;       chatLog,</p>
<p>&#x200B;       statusMesage</p>
<p>}) </p>
<p>&#x8BE5;&#x5199;&#x6CD5;&#x7684;&#x524D;&#x63D0;&#x662F;State&#x7684;&#x5C5E;&#x6027;&#x540D;&#x4E0E;&#x5B50;Reducer&#x540C;&#x540D;</p>
<p>#####combineReducers</p>
<p>&#x200B;    combineReducers&#x8F85;&#x52A9;&#x51FD;&#x6570;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x628A;&#x4E00;&#x4E2A;&#x7531;&#x4E0D;&#x540C;reducer&#x51FD;&#x6570;&#x4F5C;&#x4E3A;value&#x7684;object&#xFF0C;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#x6700;&#x7EC8;&#x7684;reducer&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x8FD9;&#x4E2A;reducer&#x8C03;&#x7528;createStore&#x3002;</p>
<p>&#x200B;    &#x5408;&#x5E76;&#x540E;&#x7684;reducer&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x5404;&#x5B50;reducer&#xFF0C;&#x5E76;&#x628A;&#x5B83;&#x4EEC;&#x7684;&#x7ED3;&#x679C;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;state&#x5BF9;&#x8C61;&#xFF0C;state&#x5BF9;&#x8C61;&#x7684;&#x7ED3;&#x6784;&#x7531;&#x4F20;&#x5165;&#x7684;&#x591A;&#x4E2A;reducer&#x7684;key&#x89C9;&#x5B9A;&#x3002;</p>
<blockquote>
<p>&#x5B50;reducer&#x8FD4;&#x56DE;&#x7684;state&#x5BF9;&#x8C61;&#xFF0C;&#x53EA;&#x8868;&#x793A;&#x5F53;&#x524D;state key&#x503C;&#x7684;&#x4E00;&#x90E8;&#x5206;</p>
</blockquote>
<ol class="ui list">
<li>&#x89C4;&#x5219;</li>
</ol>
<ul class="ui list">
<li>&#x6240;&#x6709;&#x672A;&#x5339;&#x914D;&#x5230;&#x7684;action&#xFF0C;&#x5FC5;&#x987B;&#x628A;&#x5B83;&#x63A5;&#x6536;&#x5230;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4E5F;&#x5C31;&#x662F;&#x90A3;&#x4E2A;state&#x539F;&#x5C01;&#x4E0D;&#x52A8;&#x8FD4;&#x56DE;&#xFF1F;</li>
<li>&#x6C38;&#x8FDC;&#x4E0D;&#x80FD;&#x8FD4;&#x56DE;undefined&#x3002;&#x5982;&#x6709;&#x629B;&#x5F02;&#x5E38;</li>
<li>&#x5982;&#x4F20;&#x5165;state&#x4E3A;undefined&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;reducer &#x521D;&#x59CB;&#x7684;state&#xFF0C;&#x521D;&#x59CB;state&#x7981;&#x6B62;&#x4F7F;&#x7528;undefined</li>
</ul>
<ol start="2" class="ui list">
<li>&#x5B9E;&#x73B0;</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> combineReeducers1 = <span class="function">(<span class="params">obj</span>) =&gt;</span> {</span><br><span class="line">	<span class="comment">//&#x5185;&#x90E8;&#x5177;&#x4F53;&#x4EE3;&#x7801;</span></span><br><span class="line">    <span class="keyword">var</span> finalState = {}</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> p <span class="keyword">in</span> obj) {</span><br><span class="line">        	<span class="comment">//&#x6839;&#x636E;key&#x5C5E;&#x6027;&#x503C;&#x8C03;&#x7528;function&#xFF08;state.&#x5C5E;&#x6027;&#x540D;&#xFF0C;action&#xFF09;</span></span><br><span class="line">        	finalState[p] = obj[p](state[p], action);</span><br><span class="line">        </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> finalState;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> reducer</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rootReducer = conbineReducers1({<span class="attr">key</span>: value});</span><br></pre></td></tr></table></figure>
<p>##&#x516D;&#x3001;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;</p>
<p>&#x200B;                              </p>
<p>##&#x4E03;&#x3001;&#x4E2D;&#x95F4;&#x4EF6;middleware</p>
<p>dispatch&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x5728;&#x53D1;&#x51FA;Action&#x548C;&#x6267;&#x884C;Reducer&#x4E4B;&#x95F4;&#xFF0C;&#x6DFB;&#x52A0;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x200B;       applyMiddleware&#xFF08;&#xFF09;&#x4F5C;&#x4E3A;createStore&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x3002;</p>
<p>&#x5C06;&#x6240;&#x6709;&#x4E2D;&#x95F4;&#x4EF6;&#x751F;&#x6210;&#x6570;&#x7EC4;&#xFF0C;&#x4F9D;&#x6B21;&#x6267;&#x884C;</p>
<p>Action -&gt;middleware1 -&gt; middleware2 -&gt; reducer</p>
<p>##&#x516B;&#x3001;&#x5F02;&#x6B65;&#x64CD;&#x4F5C;</p>
<p>&#x200B;       &#x540C;&#x6B65;&#x64CD;&#x4F5C;&#x53D1;&#x51FA;&#x4E00;&#x79CD;Action&#x5373;&#x53EF;&#xFF0C;&#x5F02;&#x6B65;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x53D1;&#x4E09;&#x79CD;Action&#x3002;</p>
<p>&#x64CD;&#x4F5C;&#x53D1;&#x8D77;&#x3001;&#x6210;&#x529F;&#x3001;&#x5931;&#x8D25;&#x3002;</p>
<p>&#x4E24;&#x79CD;&#x5199;&#x6CD5;&#xFF1A;</p>
<ol class="ui list">
<li><p>{type: &#x2018;FETCH_POSTS&#x2019;, status: &#x2018;error/success&#x2019;, error: &#x2018;Oops&#x2019;/response: {&#x2026;} }</p>
</li>
<li><p>{type: &#x2018;REQUEST/FAILURE/SUCCESS&#x2019;, error: &#x2018;Oops&#x2019;/response: {&#x2026;}}</p>
</li>
</ol>
<p>&#x9664;&#x4E86;Action&#x79CD;&#x7C7B;&#x4E0D;&#x540C;&#xFF0C;&#x5F02;&#x6B65;&#x64CD;&#x4F5C;State&#x4E5F;&#x8981;&#x6539;&#x9020;</p>
<p>State = {isFetching: true, didInvalidate: true, lateUpdate: &#x2018;xxx&#x2019;, &#x2026; }</p>
<p>isFetching&#x8868;&#x793A;&#x662F;&#x5426;&#x5728;&#x6293;&#x53D6;&#x6570;&#x636E;&#xFF0C;didInvalidate&#x662F;&#x5426;&#x8FC7;&#x65F6;&#xFF0C;lateUpdate&#x6700;&#x540E;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#x3002;</p>
<p>##&#x4E5D;&#x3001; Redux-thunk</p>
<p>&#xFF08;&#x64CD;&#x4F5C;&#x5F00;&#x59CB;&#x3001;&#x7ED3;&#x675F;&#x90FD;&#x53D1;Action&#xFF09;</p>
<p>&#x200B;       componentDidMount&#xFF08;&#xFF09;{</p>
<p>&#x200B;              const { dispatch, selectedPost } =this.props</p>
<p>&#x200B;              dispatch(fetchPosts ( selectedPost) ) </p>
<p>}      &#x52A0;&#x8F7D;&#x6210;&#x529F;&#x540E;&#xFF08;componentDidMount&#xFF09;&#xFF0C;&#x9001;&#x51FA;&#x4E86;&#xFF08;dispatch&#x65B9;&#x6CD5;&#xFF09;&#x4E00;&#x4E2A;Action&#xFF0C;&#x5411;&#x670D;&#x52A1;&#x5668;&#x8BF7;&#x6C42;&#x6570;&#x636E;&#xFF08;fetchPosts&#xFF09;&#xFF0C;fetchPosts&#x5C31;&#x662F;Action Creator</p>
<p>&#x200B;       Const <a href="">fetchPosts </a>=postTitle =&gt; ( dispatch,  getstate)=&gt; {</p>
<p>&#x200B;       Dispatch(requestPosts( postTitle));</p>
<p>&#x200B;       Returnfetch( <code>/some/API/${postTitle}.json</code>)</p>
<p>&#x200B;              .then(response =&gt; response.json() )</p>
<p>&#x200B;              .then(json =&gt; dispatch( receivePosts( postTitle, json )))</p>
<p>}</p>
<p>//&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x4E00;</p>
<p>Store.dispatch(fetchPosts( &#x2018;reactjs&#x2019; ))</p>
<p>//&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x4E8C;</p>
<p>Store.dispatch(fetchPosts( &#x2018;reactjs&#x2019; )).then(() =&gt; console.log(store.getState()) )</p>
<p>&#x200B;       fetchPosts&#x662F;&#x4E00;&#x4E2A;Action Creator&#x52A8;&#x4F5C;&#x751F;&#x6210;&#x5668;&#xB7;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;</p>
<ol class="ui list">
<li><p>FetchPosts&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#xFF0C;&#x666E;&#x901A;Action Creator&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;</p>
</li>
<li><p>&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x662F;dispatch&#x3001;getState&#x4E24;&#x4E2A;Redux&#x65B9;&#x6CD5;&#xFF0C;&#x666E;&#x901A;&#x7684;&#x8FD4;&#x56DE;Acton&#x5185;&#x5BB9;</p>
</li>
<li><p>&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x5148;&#x53D1;Action&#xFF08;requestPosts&#xFF08;postTitle&#xFF09;&#xFF09;&#x8868;&#x5F00;&#x59CB;</p>
</li>
<li><p>&#x5F02;&#x6B65;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x53D1;&#x4E00;&#x4E2A;Action&#xFF08;receivePosts&#xFF09;&#xFF0C;&#x8868;&#x7ED3;&#x675F;</p>
</li>
</ol>
<p>Store.dispatch &#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53C2;&#x6570;&#x53EA;&#x80FD;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x662F;&#x5C31;&#x5F97;&#x4F7F;&#x7528;&#x4E2D;&#x95F4;&#x4EF6;redux-thunk&#xFF0C;&#x6539;&#x9020;dispatch&#xFF0C;&#x4F7F;&#x5F97;&#x540E;&#x8005;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;</p>
<p>&#x200B;       Import thunk from &#x2018;redux-thunk&#x2019;</p>
<p>&#x200B;       Import { createStore, applyMiddleware }from &#x2018;redux&#x2019;</p>
<p>&#x200B;       Const store == createStore( reducer,applyMiddleware&#xFF08;thunk&#xFF09;)</p>
<p>##&#x5341;&#x3001;redux-promise&#x4E2D;&#x95F4;&#x4EF6;</p>
<p>&#x200B;       &#x53E6;&#x4E00;&#x79CD;&#x5F02;&#x6B65;&#x64CD;&#x4F5C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;Action Creator&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;Promise&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x200B;       Import promiseMiddleware from &#x2018;redux-promise&#x2019;</p>
<p>&#x200B;       //&#x5176;&#x4ED6;&#x5982;&#x4E0A;</p>
<p>&#x4E24;&#x79CD;&#x5199;&#x6CD5;&#xFF1A;</p>
<ol class="ui list">
<li>&#x8FD4;&#x56DE;&#x503C;&#x662F;Promise&#x5BF9;&#x8C61;</li>
</ol>
<p>Const fetchPosts =( dispatch, postTitle ) =&gt; new Promise( function ( resolve, reject ) {</p>
<p>&#x200B;       Dispatch( requestPosts( postTitle));</p>
<p>&#x200B;      Returnfetch( <code>/some/API/${postTitle}.json</code>)</p>
<p>&#x200B;              .then( response =&gt; { type: &#x2018;&#x2019;,payload: response.json()});</p>
<p>})</p>
<ol start="2" class="ui list">
<li>Payload&#x5C5E;&#x6027;&#x662F;&#x4E00;&#x4E2A;Promise&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x9700;&#x8981;&#x4ECE;redux-actions&#x5F15;&#x5165;createAction&#x65B9;&#x6CD5;</li>
</ol>
<p>Import {createAction } from &#x2018;redux-actions&#x2019;</p>
<p>componentDidMound(){</p>
<p>&#x200B;       const { dispatch, selectPost } =this.props</p>
<p>&#x200B;       dispatch(requestPosts( selectedPost ));</p>
<p>&#x200B;       dispatch( createAction( &#x2018;FETCH_POSTS&#x2019;,</p>
<p>&#x200B;       fetch(<code>/API/${postTitle}.json</code>).then(response =&gt; response.json() )</p>
<p>));</p>
<p>}      &#x7B2C;&#x4E8C;&#x4E2A;dispatch&#x65B9;&#x6CD5;&#x662F;&#x5F02;&#x6B65;Action&#xFF0C;&#x53EA;&#x6709;&#x64CD;&#x4F5C;&#x63A5;&#x53D7;&#xFF0C;&#x8FD9;&#x4E2A;Action&#x624D;&#x4F1A;&#x5B9E;&#x9645;&#x53D1;&#x51FA;&#x3002;createAction&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x662F;Promise&#x5BF9;&#x8C61;</p>
<p>#&#x4E8C;&#x3001;&#x6CE8;&#x610F;&#x70B9;</p>
<p>##&#x4E00;&#x3001;    HTML&#x6A21;&#x677F;</p>
<body><br><br>&#x200B;       <div id="&#x2019;root&#x2019;"></div><br><br>&#x200B;       &lt;script type=&#x2019;text/babel&#x2019;&gt;   //our code goes here!<br><br><br><br></body>

<ol class="ui list">
<li><p>Script&#x6807;&#x7B7E;type&#x5C5E;&#x6027;&#x4E3A;text/babel&#xFF0C;&#x8FD9;&#x662F;React&#x7684;&#x72EC;&#x6709;&#x8BED;&#x6CD5;&#xFF0C;&#x51E1;&#x662F;&#x7528;&#x5230;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x5F97;&#x52A0;&#x4E0A;&#x3002;</p>
</li>
<li><p>&#x5FC5;&#x987B;&#x52A0;&#x8F7D;&#x7684;&#x4E09;&#x4E2A;&#x5E93;&#xFF1A;react.js&#x3001;react-dom.js&#x3001;Browser.js&#x3002;borwser.js&#x4F5C;&#x7528;&#x662F;&#x628A;JSX&#x8F6C;&#x4E3A;JS&#x8BED;&#x6CD5;&#xFF0C;&#x5F88;&#x8017;&#x65F6;&#x95F4;&#xFF0C;&#x4E0A;&#x7EBF;&#x65F6;&#xFF0C;&#x5C06;&#x5B83;&#x653E;&#x5230;&#x670D;&#x52A1;&#x5668;&#x5B8C;&#x6210;&#x3002;</p>
</li>
</ol>
<p>##&#x4E8C;&#x3001;    this.props.children</p>
<p>&#x6CA1;&#x6709;&#x5B50;&#x8282;&#x70B9;&#xFF0C;&#x503C;&#x4E3A;undefined&#xFF1B;&#x4E00;&#x4E2A;&#x5B50;&#x8282;&#x70B9;&#xFF0C;object&#xFF1B;&#x591A;&#x4E2A;&#xFF0C;array&#x3002;</p>
<p>React.Children &#x7528;&#x6765;&#x4FBF;&#x5229;&#x5B50;&#x8282;&#x70B9;&#xFF0C;&#x4E0D;&#x7528;&#x8003;&#x8651;children&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;</p>
<p>##&#x4E09;&#x3001;    PropTypes</p>
<p>&#x7528;&#x4E8E;&#x9A8C;&#x8BC1;&#x7EC4;&#x4EF6;&#x5C5E;&#x6027;&#x662F;&#x5426;&#x7B26;&#x5408;&#x8981;&#x6C42;&#xFF0C; &#x4E0D;&#x7B26;&#x5408;&#x5219;&#x63A7;&#x5236;&#x53F0;&#x62A5;&#x9519;</p>
<p>##&#x56DB;&#x3001;    &#x83B7;&#x53D6;&#x771F;&#x5B9E;Dom&#x8282;&#x70B9;</p>
<p>&#x7EC4;&#x4EF6;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x5B9E;DOM&#x8282;&#x70B9;&#xFF0C;&#x6240;&#x6709;&#x53D8;&#x52A8;&#x90FD;&#x5728;&#x865A;&#x62DF;DOM&#x4E0A;&#x53D1;&#x751F;&#xFF0C;&#x518D;&#x5C06;&#x53D8;&#x52A8;&#x90E8;&#x5206;&#x53CD;&#x6620;&#x5230;&#x771F;&#x5B9E;DOM&#x4E0A;&#xFF0C;&#x8FD9;&#x7B97;&#x6CD5;&#x53EB;DOM diff&#x3002;</p>
<p>&#x200B;       &#x7EC4;&#x4EF6;&#x83B7;&#x53D6;&#x771F;&#x5B9E;DOM&#x8282;&#x70B9;&#xFF0C;&#x9700;&#x8981;ref&#x5C5E;&#x6027;</p>
<p>&#x4F8B;&#xFF1A; &#x7EC4;&#x4EF6;&#x6709;&#x4E2A;&#x6587;&#x672C;&#x8F93;&#x5165;&#x6846;&#xFF0C;&#x865A;&#x62DF;DOM&#x62FF;&#x4E0D;&#x5230;&#x7528;&#x6237;&#x8F93;&#x5165;&#xFF0C;&#x6587;&#x672C;&#x6846;&#x5FC5;&#x987B;&#x6709;&#x4E2A;ref&#x5C5E;&#x6027;&#x3002;This.refs.[refName]&#x4F1A;&#x8FD4;&#x56DE;&#x771F;&#x5B9E;DOM&#x8282;&#x70B9;&#x3002;&#x4F46;&#x662F;&#x4E0D;&#x8BB8;&#x7B49;&#x5230;&#x865A;&#x62DF;DOM&#x63D2;&#x5165;&#x6587;&#x6863;&#x540E;&#x624D;&#x80FD;&#x4F7F;&#x7528;&#xFF0C;&#x5426;&#x5219;&#x62A5;&#x9519;</p>
<p>##&#x4E94;&#x3001;    &#x8868;&#x5355;</p>
<p>&#x7528;&#x6237;&#x5728;&#x8868;&#x5355;&#x586B;&#x5165;&#x5185;&#x5BB9;&#xFF0C;&#x5C5E;&#x4E8E;&#x7528;&#x6237;&#x8DDF;&#x7EC4;&#x4EF6;&#x7684;&#x4E92;&#x52A8;&#xFF0C;&#x4E0D;&#x80FD;&#x7528;this.props&#x8BFB;&#x53D6;&#xFF0C;&#x800C;&#x8981;&#x5B9A;&#x4E49;onChange&#x7684;&#x56DE;&#x8C03;&#xFF0C;&#x7528;event.target.value&#x8BFB;&#x53D6;&#x3002;</p>
<p>##&#x516D;&#x3001;    &#x751F;&#x547D;&#x5468;&#x671F;</p>
<p>Mounting&#xFF1A;&#x5DF2;&#x63D2;&#x5165;&#x771F;&#x5B9E;DOM</p>
<p>Updating&#xFF1A;&#x5DF2;&#x88AB;&#x91CD;&#x65B0;&#x6E32;&#x67D3;</p>
<p>Unmounting&#xFF1A;&#x5DF2;&#x79FB;&#x9664;&#x771F;&#x5B9E;DOM</p>
<p>##&#x4E03;&#x3001;    Ajax</p>
<p>ComponentDidMount&#x8BBE;&#x7F6E;Ajax&#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x6210;&#x529F;&#xFF0C;&#x5728;setState&#x91CD;&#x65B0;&#x6E32;&#x67D3;UI&#x3002;</p>
<p>#&#x4E09;&#x3001;React-Redux </p>
<p>React-Redux&#x5C06;&#x5DE6;&#x53F3;&#x7EC4;&#x4EF6;&#x5206;&#x4E3A;&#x4E24;&#x5927;&#x7C7B;</p>
<p>##&#x4E00;&#x3001;    UI&#x7EC4;&#x4EF6;</p>
<p>Presentationalcomponent</p>
<p>&#x200B;       &#x53EA;&#x8D1F;&#x8D23;UI&#x5448;&#x73B0;&#xFF0C;&#x4E0D;&#x5E26;&#x4EFB;&#x4F55;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF1B;&#x6CA1;&#x6709;&#x72B6;&#x6001;&#xFF1B;&#x6570;&#x636E;&#x90FD;&#x7531;this.props&#x63D0;&#x4F9B;&#xFF1B;&#x4E0D;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;Redux&#x7684;API&#x3002;</p>
<p>&#x200B;       &#x7EAF;&#x7EC4;&#x4EF6;</p>
<p>##&#x4E8C;&#x3001;    &#x5BB9;&#x5668;&#x7EC4;&#x4EF6;</p>
<p>Containercomponent</p>
<p>&#x200B;       &#x8D1F;&#x8D23;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x548C;&#x4E1A;&#x52A1;&#x903B;&#x8F91;,&#x4E0D;&#x8D1F;&#x8D23;UI&#x5448;&#x73B0;;&#x5E26;&#x6709;&#x5185;&#x90E8;&#x72B6;&#x6001;;&#x4F7F;&#x7528;Redux&#x7684;API.</p>
<p>&#x200B;       React-Redux&#x89C4;&#x5B9A;,UI&#x7EC4;&#x4EF6;&#x90FD;&#x7531;&#x7528;&#x6237;&#x63D0;&#x4F9B;,&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x5219;&#x662F;&#x7531;React-Redux&#x81EA;&#x52A8;&#x63D0;&#x4F9B;</p>
<p>##&#x4E09;&#x3001;connect</p>
<p>&#x200B;       &#x7528;&#x4E8E;UI&#x7EC4;&#x4EF6;&#x751F;&#x6210;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;</p>
<p>Import { connect }from &#x2018;react-redux&#x2019;</p>
<p>ConstVisibleTodoList = connect&#xFF08;&#xFF09;&#xFF08;TodoList&#xFF09;&#xFF1B;</p>
<p>&#x200B;       TodoList &#x4E3A;UI&#x7EC4;&#x4EF6;&#xFF0C;VisibleTodoList&#x901A;&#x8FC7;React-Redux&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x3002;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;&#xFF1A;</p>
<ol class="ui list">
<li><p>&#x8F93;&#x5165;&#x903B;&#x8F91;&#xFF1A;&#x5916;&#x90E8;&#x6570;&#x636E;&#xFF08;state&#x5BF9;&#x8C61;&#xFF09;&#x5982;&#x4F55;&#x8F6C;&#x6362;UI&#x7EC4;&#x4EF6;&#x7684;&#x53C2;&#x6570;</p>
</li>
<li><p>&#x8F93;&#x51FA;&#x903B;&#x8F91;&#xFF1B;&#x52A8;&#x4F5C;&#x5982;&#x4F55;&#x53D8;&#x4E3A;Action&#x5BF9;&#x8C61;&#xFF0C;&#x4ECE;UI&#x4F20;&#x51FA;&#x53BB;</p>
</li>
</ol>
<p>Import { connect }from &#x2018;react-redux&#x2019;</p>
<p>ConstVisibleTodoList = connect(</p>
<p>&#x200B;       mapStateToProps,</p>
<p>&#x200B;       mapDispatchToProps</p>
<p>)( TodoList )</p>
<p>##&#x56DB;&#x3001;mapStateToProps</p>
<p>&#x200B;       &#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x4ECE;&#x5916;&#x90E8;state&#x5BF9;&#x8C61;&#x5230;UI&#x7EC4;&#x4EF6;props&#x5BF9;&#x8C61;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#x3002;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x6BCF;&#x4E2A;&#x952E;&#x503C;&#x5BF9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6620;&#x5C04;</p>
<p>Const mapStateToProps = &#xFF08;state&#xFF08;&#xFF0C;props&#xFF09;&#xFF09; =&gt; {</p>
<p>&#x200B;       Return{ todos: getVisibleTodos( state.todos, state.visibilityFilter )}</p>
<p>}</p>
<p>&#x63A5;&#x6536;state&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x3002;getVisibleTodos&#x4ECE;state&#x8BA1;&#x7B97;todos&#x7684;&#x503C;&#x3002;</p>
<p>&#x200B;       &#x8BA2;&#x9605;Store&#xFF0C;state&#x66F4;&#x65B0;&#x65F6;&#x4F1A;&#x81EA;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;UI&#x7EC4;&#x4EF6;&#x53C2;&#x6570;&#xFF0C;&#x4ECE;&#x800C;&#x89E6;&#x53D1;UI&#x7EC4;&#x4EF6;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#xFF08;<strong>&#x4F7F;&#x7528;**</strong>props<strong>**&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x53C2;&#x6570;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x4E5F;&#x4F1A;&#x91CD;&#x65B0;&#x6E32;&#x67D3;</strong>&#xFF1F;&#xFF09;</p>
<p>&#x200B;       <strong>&#x4F5C;&#x7528;&#xFF1A;&#x53EA;&#x7ED1;&#x5B9A;&#x5F53;&#x524D;&#x7EC4;&#x4EF6;&#x76F8;&#x5173;&#x7684;**</strong>state<strong>**&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6CA1;&#x6709;&#x989D;&#x5916;&#x7684;</strong></p>
<p>##&#x4E94;&#x3001;mapDispatchToProps</p>
<p>&#x200B;       &#x5EFA;&#x7ACB;UI&#x7EC4;&#x4EF6;&#x5230;store.dispatch&#x7684;&#x6620;&#x5C04;&#x3002;&#x5B9A;&#x4E49;&#x4E86;&#x54EA;&#x4E9B;&#x64CD;&#x4F5C;&#x5E94;&#x5F53;&#x4F5C;&#x4E3A;Action&#x4F20;&#x7ED9;Store&#x3002;&#x53EF;&#x4EE5;&#x662F;&#x51FD;&#x6570;&#x6216;&#x8005;&#x5BF9;&#x8C61;&#x3002;</p>
<p>Const mapDispatchToProps = ( dispatch,ownProps ) =&gt; {</p>
<p>&#x200B;       Return{ onClick: () =&gt; {</p>
<p>&#x200B;       Dispatch({type: &#x2018;Action_Name&#x2019;, filter:ownProps.filter });}</p>
<p>};</p>
<p>}</p>
<p>&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x6BCF;&#x4E2A;&#x952E;&#x503C;&#x5BF9;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#xFF0C;&#x5B9A;&#x4E49;UI&#x7EC4;&#x4EF6;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x600E;&#x6837;&#x53D1;Action&#x3002;    </p>
<p>&#x200B;       &#x5982;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x952E;&#x540D;&#x662F;&#x5BF9;&#x5E94;UI&#x7EC4;&#x4EF6;&#x7684;&#x540C;&#x540D;&#x53C2;&#x6570;&#xFF0C;&#x952E;&#x503C;&#x5E94;&#x8BE5;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x4F5C;&#x4E3A;Action creator&#xFF0C;&#x8FD4;&#x56DE;&#x7684;Action&#x7531;Redux&#x81EA;&#x52A8;&#x53D1;&#x51FA;</p>
<p>Const mapDispatchToProps = {</p>
<p>&#x200B;       onClick:(filter) =&gt; { type: &#x2018;Action_Name&#x2019;, filter: filter }</p>
<p>}</p>
<p>##&#x516D;&#x3001;<provider>&#x7EC4;&#x4EF6; </provider></p>
<p>&#x200B;       &#x539F;&#x7406;&#xFF1A;React&#x7EC4;&#x4EF6;&#x7684;context&#x5C5E;&#x6027;&#x3002;</p>
<p>&#x4F5C;&#x7528;&#xFF1A;&#x8BA9;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x62FF;&#x5230;state&#xFF08;state&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#xFF0C;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x53EF;&#x80FD;&#x5728;&#x5F88;&#x6DF1;&#x7684;&#x5C42;&#x7EA7;&#xFF0C;state&#x4F20;&#x9012;&#x4E0B;&#x53BB;&#x5F88;&#x9EBB;&#x70E6;&#xFF09;&#x3002;</p>
<p>Import { Provider } from &#x2018;react-redux&#x2019;</p>
<p>Import todoApp from &#x2018;./reducers&#x2019;</p>
<p>Let store = createStore(todoApp)</p>
<p>Render(</p>
<p>&#x200B;       &lt;Providerstore={store}&gt; <app>,</app></p>
<p>&#x200B;       Document.getElementById(&#x2018;root&#x2019;)</p>
<p>)</p>
<p>&#x200B;       App&#x6240;&#x6709;&#x5B50;&#x7EC4;&#x4EF6;&#x9ED8;&#x8BA4;&#x90FD;&#x53EF;&#x4EE5;&#x62FF;&#x5230;state</p>
<p>##&#x4E03;&#x3001;&#x5E38;&#x7528;&#x51FD;&#x6570;</p>
<ol class="ui list">
<li>createStore&#xFF08;reducer&#xFF0C;[initState, enhancer]&#xFF09;</li>
</ol>
<p>enhancer&#xFF1A;&#x4E2D;&#x95F4;&#x4EF6;</p>
<ol start="2" class="ui list">
<li>combineRecuder&#xFF08;reducers&#xFF09;</li>
</ol>
<p>&#x591A;&#x4E2A;&#x5B50;&#x51FD;&#x6570;&#x5408;&#x5E76;&#x540E;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x6574;&#x4F53;&#x51FD;&#x6570;&#x4E3A;state&#x7279;&#x5B9A;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x6620;&#x5C04;&#x4EA7;&#x751F;&#x7279;&#x5B9A;&#x51FD;&#x6570;&#x3002;</p>
<ol start="3" class="ui list">
<li>applyMiddleware&#xFF08;&#x2026;middlewares&#xFF09;</li>
</ol>
<p>&#x8F93;&#x5165;middlewares&#x6570;&#x7EC4;&#xFF0C;&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#xFF0C;&#x51FD;&#x6570;&#x4EE5;creteStore&#x4E3A;&#x53C2;&#x6570;&#x3002;</p>
<ol start="4" class="ui list">
<li>compose&#xFF08;&#x2026;function&#xFF09;</li>
</ol>
<p>&#x4ECE;&#x53F3;&#x5230;&#x5DE6;&#x7EC4;&#x5408;&#x591A;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;</p>
<p>Compose&#xFF08;funcA, funcB, funcC&#xFF09;&#x7B49;&#x4EF7;&#x4E8E;compose(funcA(funcB(funcC())))</p>
<p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x6DF1;&#x5EA6;&#x5D4C;&#x5957;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x4EE3;&#x7801;&#x7684;&#x5411;&#x53F3;&#x504F;&#x79FB;&#x3002;</p>
<ol start="5" class="ui list">
<li><providerstore> &#x548C; connect&#xFF08;[mapStateToProps],[mapDispatchToProps],[mergeProps], [options]&#xFF09;</providerstore></li>
</ol>
<p>&#xFF09;</p>
<p>#&#x56DB;&#x3001;Redux&#x5E93;&#x6587;&#x4EF6;</p>
<p>##&#x4E00;&#x3001;    react-redux</p>
<p>##&#x4E8C;&#x3001;    redux-devtools</p>
<p>&#x5B9E;&#x65F6;&#x76D1;&#x63A7;Redux&#x72B6;&#x6001;&#x4E66;&#x7684;Store</p>
<p>&#x200B;       Redux-devtools</p>
<p>&#x200B;       Redux-log-monitor</p>
<p>&#x200B;       Redux-dock-monitor</p>
<p>&#x521B;&#x5EFA;DevTools&#x7EC4;&#x4EF6;</p>
<p>Import {createDevTools } from &#x2018;redux-devtools&#x2019;</p>
<p>Import LogMonitorfrom &#x2018;redux-devtools-log-monitor&#x2019;//(&#x7EC4;&#x4EF6;)</p>
<p>Const DevTools =createDevTools( // JSX&#x4EE3;&#x7801; )</p>
<p>&#x200B;       createDevTools &#x521B;&#x5EFA;&#x7684;&#x7EC4;&#x4EF6;&#x6709;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;instrument&#xFF08;&#xFF09;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;store&#x589E;&#x5F3A;&#x5668;&#xFF0C;&#x653E;&#x5728;<a href="">applyMiddleware</a>&#x540E;&#xFF0C;&#x56E0;&#x4E3A;apply&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x5F02;&#x6B65;&#x884C;&#x4E3A;&#xFF0C;&#x4E3A;&#x786E;&#x4FDD;&#x8BF4;&#x6709;actions&#x663E;&#x793A;&#x5728;store&#x4E2D;&#x3002;</p>
<p>##&#x4E09;&#x3001;    redux-thunk</p>
<p>&#x7EDF;&#x4E00;&#x5F02;&#x6B65;&#x548C;&#x540C;&#x6B65;&#x7684;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#xFF0C;&#x628A;&#x5F02;&#x6B65;&#x8FC7;&#x7A0B;&#x653E;&#x5728;action&#x7EA7;&#x522B;&#x89E3;&#x51B3;&#xFF0C;&#x5BF9;component&#x6CA1;&#x6709;&#x5F71;&#x54CD;</p>
<p>##&#x56DB;&#x3001;    react-router-redux</p>
<p>&#x534F;&#x8C03; Redux&#x548C;React Router&#x4E24;&#x4E2A;&#x5E93;&#xFF0C;&#x52A0;&#x5F3A;&#x4E86;Router&#x5E93;&#x4E2D;history&#x8FD9;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x5141;&#x8BB8;history&#x4E2D;&#x63A5;&#x53D7;&#x5230;&#x7684;&#x53D8;&#x5316;&#x53CD;&#x6620;&#x5230;state&#x53BB;&#x3002;</p>
<p>&#x200B;       History + store&#xFF08;redux&#xFF09; -&gt; react-router-redex -&gt; &#x52A0;&#x5F3A;history -&gt; react-router</p>
<p>&#x200B;       &#x6240;&#x6709;&#x9875;&#x9762;&#x5BFC;&#x822A;&#x3001;App&#x5BFC;&#x822A;&#xFF0C;&#x52A0;&#x5F3A;&#x7248;history&#x4F1A;&#x9996;&#x5148;&#x5C06;&#x65B0;&#x7684;&#x8DEF;&#x5F84;&#x901A;&#x8FC7;Redux Store&#x4F20;&#x9012;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;React Router&#x66F4;&#x65B0;&#x7EC4;&#x4EF6;&#x6811;&#x3002;</p>
<p>&#x200B;       <strong>&#x67E5;&#x770B;&#x5BFC;&#x822A;&#x4E8B;&#x4EF6;</strong></p>
<p> History.listen&#x76D1;&#x542C;&#x52A0;&#x5F3A;&#x7248;history</p>
<p>&#x200B;       Const history= syncHistoryWithStore&#xFF08;browserHistory&#xFF0C;store&#xFF09;</p>
<p>&#x200B;       History.listen( location =&gt;analyticsService.track(location.pathname ))</p>

                        
                    </div>

                    
                    
                    

                    <div class="description post-description">
    <span class="post-description-item">
        <time datetime="2018-05-10T07:09:04.770Z" itemprop="datePublished">2018-05-10</time>

    </span>
    <span class="post-description-item">
        
    </span>
</div>

                </div>
                
                <div id="pagination" class="nav-web ui text container pagination">

    <div class="ui stackable two column divided grid container">
        <div class="row">
            <div class="column nav-left">
                

                <a class="ui tiny button disabled"><i class="angle left icon"></i>Previous</a>

                
            </div>
            <div class="column nav-right">
                

                <a href="/2018/05/10/React-Bootstrap学习/" class="ui tiny button">
                    
                    (No Title)
                    
                    <i class="angle right icon"></i></a>
                
            </div>
        </div>
    </div>

</div>
                
            </div>

            
            <div class="three wide computer three wide tablet column">

                <div class="ui sticky article-toc" id="article-toc">
                    <!-- toc -->
                    
                </div>

            </div>
            

        </div>
    </div>
</div>


                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <div class="ui inverted section divider"></div>
        &copy; 2018 <a href="/">John Doe</a>,
        Powered by <a href="https://github.com/henryhuang/hexo-theme-aloha" target="_blank">Aloha</a> and <a
                href="http://hexo.io/" target="_blank">Hexo</a>.
    </div>
</div>

    </div>




<!-- scripts list from theme config.yml -->

<script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>

<script src="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch/3.18.1/algoliasearch.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch-helper-js/2.13.0/algoliasearch.helper.min.js"></script>

<script src="/js/semantic-ui-algolia.js"></script>

<script src="/js/aloha-events.js"></script>



</body>
</html>
